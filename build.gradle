
buildscript {
	repositories {
		mavenCentral()
	}

	dependencies {
		classpath 'net.saliman:gradle-cobertura-plugin:2.2.2',
			'net.carlosgsouza:gradle-console:1.0'
	}
}

apply plugin: 'cobertura'
apply plugin: 'groovy'
apply plugin: 'maven'
apply plugin: 'codenarc'
//apply plugin: 'console' //console does not play nice with spock

group = 'com.nagternal'
version = '0.1.0-SNAPSHOT'

repositories {
	mavenCentral()
}

dependencies {
  compile('org.codehaus.groovy:groovy:2.2.2')
  
  testCompile('org.spockframework:spock-core:0.7-groovy-2.0')
}

codenarc {
	configFile = file "${project.projectDir}/config/codenarc/codenarc.groovy"
}

codenarcTest {
	ignoreFailures = true
}

cobertura {
	coverageFormats = ['xml','html']
}

task sourceJar(type: Jar) {
	group 'Build'
	description 'An archive of the source code'
	classifier 'sources'
	from sourceSets.main.allSource
}

artifacts {
	sourceJar
}
